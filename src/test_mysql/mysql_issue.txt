#############MAIN.JS#############################
const { app, BrowserWindow, netLog, contentTracing, session } = require('electron')

function createWindow () {
  const win = new BrowserWindow({
    width: 800,
    height: 600,
    title: "Ulrich The Keeper",
    icon: './src/webapp/public/assets/img/menu_icon.png',
    webPreferences: {
      //set to true to have internal nodejs function integration
      nodeIntegration: true,
      //enable remote module for the render script
      enableRemoteModule: true,
      //disable dev tools set to false in PROD
      devTools: true


    }
  }
)
  win.loadFile('index.html');

}

app.whenReady().then(createWindow)

app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') {
    app.quit()
  }
})
app.on('activate', () => {
  if (win === null) {
    createWindow()
  }
})

###############PACKAGE.JSON#####################################
{
  "name": "test",
  "version": "1.0.0",
  "description": "test",
  "main": "main.js",
  "scripts": {
    "postinstall": "install-app-deps",
    "start": "electron . --no-sandbox"
  },
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "decache": "^4.6.0",
    "electron": "^10.1.4",
    "electron-builder": "^22.9.1"
      },
  "dependencies": {
    "mysql": "^2.18.1"

  }
}

################INDEX.HTML#################
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ulrich The Keeper</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">


    <link rel="stylesheet" href="../assets/css/login_style.css">

</head>

<body>

    <div class="login-dark">
        <form id="myForm_index" method="POST">
            <h2 class="sr-only">Login Form</h2>
            <div class="illustration"><i class="icon ion-ios-locked-outline"></i></div>
            <div class="form-group"><input id=form_index_login class="form-control" type="text" name="login" placeholder="Login" required></div>
            <div class="form-group"><input id=form_index_password class="form-control" type="password" name="password" placeholder="Password" aria-describedby="PasswordHelp" required></div>
            <small id="PasswordHelp" class="form-text text-muted">Enter your credentials to unlock your vault </small>

            <div class="form-group">
              <button id=myBtn class="btn btn-primary btn-block" type="submit" >Log In</button>
            </div>
            <a href="register.html" class="forgot">Click here to register</a>

        </form>
    </div>
    <!-- Placing scripts at the bottom of the <body> element improves the display speed, because script interpretation slows down the display. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>

<script>
document.getElementById("myBtn").addEventListener("click", tata);

function tata(){
  var mysql = require("mysql");
  var db_config = require('../../../server/database_config.js');

  var host = db_config.db_host;
  var user = db_config.db_user;
  var password = db_config.db_password;
  var name_database = db_config.db_name;

  var connection = mysql.createConnection({
    host: host,
    user: user,
    password: password,
    database: name_database
  });
  alert('14.1')
  connection.query('SELECT * FROM `users`', function (error, results, fields) {
    if (error) throw console.log(error);
    alert('14.2');
  });
  alert('13')
  connection.end();

}
</script>
</body>
</html>
